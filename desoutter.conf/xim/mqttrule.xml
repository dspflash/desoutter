<?xml version="1.0" encoding="UTF-8"?><Tables><Table name="mqttrule"><Inputs><Attr>topic</Attr><Value/><Value/><Value/><Value/><Value/></Inputs><Inputs><Attr>param</Attr><Value op="1" id="3">46</Value><Value op="1" id="4">33</Value><Value op="1" id="5">48</Value><Value op="1" id="6">61</Value><Value/></Inputs><Inputs><Attr>extparam</Attr><Value/><Value/><Value/><Value op="1" id="7">detail</Value><Value/></Inputs><Outputs><Attr>sqlquery</Attr><Value op="1" id="8">call `xbs`.`handle_iot_data`('%{topic}','%{data0}','%{data1}','%{data2}','%{data3}','%{data4}','%{data5}','%{data6}','%{data7}',%{data8},'%{data9}','%{data10}') </Value><Value op="1" id="9">call `xbs`.`handle_iot_data_r`('%{topic}','%{data0}','%{data1}','%{data2}','%{data3}','%{data4}','%{data5}','%{data6}') </Value><Value op="1" id="10">UPDATE xbs.iot_data_latest dl JOIN xbs.iot_dev_data dd ON dl.topic=dd.topic JOIN xbs.iot_dev_data dd2 ON dd.dev_idx=dd2.dev_idx SET modsplan=%{data29} WHERE dd2.topic='%{topic}';</Value><Value op="1" id="11">INSERT INTO desoutter.iot_tighten_rs (topic,dt,hr,oks,noks) VALUES('%{topic}','%{dt}',HOUR('%{dt}'),IF('%{tighteningstatus}'='PASS',1,0),IF('%{tighteningstatus}'='PASS',0,1)) ON DUPLICATE KEY UPDATE oks=oks+IF('%{tighteningstatus}'='PASS',1,0),noks=noks+IF('%{tighteningstatus}'='PASS',0,1);INSERT IGNORE INTO desoutter.iot (tighteningid, topic, pset, tighteningstatus, torquemin, torquemax, torque, torquestatus, anglemin, anglemax, angle, anglestatus, TIMESTAMP) VALUES('%{tighteningid}', '%{topic}', '%{pset}','%{tighteningstatus}','%{torquemin}', '%{torquemax}', '%{torque}', '%{torquestatus}', '%{anglemin}', '%{anglemax}', '%{angle}', '%{anglestatus}', '%{timestamp}');</Value><Value/></Outputs></Table></Tables>